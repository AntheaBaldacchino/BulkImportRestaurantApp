@using BulkImportRestaurantApp.Models
@using BulkImportRestaurantApp.Models.Interfaces
@model IEnumerable<IItemValidating>


@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{

    var viewMode = (string?)ViewBag.ViewMode ?? "restaurants";
}

<h2>Catalog</h2>

<div class="mb-2">
    <a asp-action="Catalog" asp-route-view="restaurants" class="btn btn-outline-primary">
        Restaurants
    </a>

    <a asp-action="Catalog" asp-route-view="menuitems" class="btn btn-outline-secondary">
        Menu items
    </a>
</div>


    @if (viewMode == "restaurants")
    {
        <div class="row">
            @foreach (var item in Model.OfType<Restaurant>())
            {
                <div class="col-md-4 mb-3">
                    <partial name="@item.GetCardPartial()" model="item" />
                </div>
            }
        </div>
    } else
    {
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Restaurant</th>
                    <th>Price</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.OfType<MenuItem>())
                {
                    <partial name="@item.GetCardPartial()" model="item" />
          
                }
            </tbody>
        </table>
    }


